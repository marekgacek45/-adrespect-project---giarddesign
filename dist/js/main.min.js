"use strict";var interval,hamburgerBtn=document.querySelector("#hamburgerBtn"),navbarDropdown=document.querySelector("#navbarDropdown"),navbarDropdownHandler=function(){hamburgerBtn.classList.toggle("is-active"),navbarDropdown.classList.toggle("hidden"),navbarDropdown.classList.toggle("block")},links=(hamburgerBtn.addEventListener("click",navbarDropdownHandler),document.querySelectorAll(".nav-item")),closeNavbarDropdownHandler=function(){hamburgerBtn.classList.remove("is-active"),navbarDropdown.classList.add("hidden"),navbarDropdown.classList.remove("block")},dropdownBtn=(links.forEach(function(e){return e.addEventListener("click",closeNavbarDropdownHandler)}),document.querySelector("#dropdownBtn")),dropdownNavbar=document.querySelector("#dropdownNavbar"),dropdownHandler=function(){dropdownNavbar.classList.toggle("hidden"),dropdownNavbar.classList.toggle("block")},searchButton=(dropdownBtn.addEventListener("click",dropdownHandler),document.getElementById("searchButton")),searchInput=document.getElementById("searchInput"),content=document.querySelector("body"),slides=(searchButton.addEventListener("click",function(){var e=searchInput.value.trim();""!==e&&(e=new RegExp("\\b".concat(e,"\\b"),"gi"),content.innerHTML=content.innerHTML.replace(e,function(e){return'<span class="highlight">'.concat(e,"</span>")}),0<(e=content.getElementsByClassName("highlight")).length)&&e[0].scrollIntoView({block:"center",behavior:"smooth"})}),document.querySelectorAll(".sliderSlide")),currentSlide=0,showSlide=function(n){slides.forEach(function(e,t){e.style.display=t===n?"flex":"none"})},nextSlide=function(){var e=(currentSlide+1)%slides.length;slides[currentSlide].classList.remove("animate-prevSlide"),slides[e].classList.add("animate-slide"),showSlide(currentSlide=e),stopAutoSlide(),startAutoSlide(),setTimeout(function(){slides[e].classList.remove("animate-slide")},1e3)},prevSlide=function(){var e=(currentSlide-1+slides.length)%slides.length;slides[currentSlide].classList.remove("animate-slide"),slides[e].classList.add("animate-prevSlide"),showSlide(currentSlide=e),stopAutoSlide(),startAutoSlide(),setTimeout(function(){slides[e].classList.remove("animate-prevSlide")},1e3)},startAutoSlide=function(){interval=setInterval(function(){nextSlide()},5e3)},stopAutoSlide=function(){clearInterval(interval)},startSlider=function(){showSlide(currentSlide),document.querySelectorAll(".nextButton").forEach(function(e){e.addEventListener("click",function(){nextSlide(),stopAutoSlide(),startAutoSlide()})}),document.querySelectorAll(".prevButton").forEach(function(e){e.addEventListener("click",function(){prevSlide(),stopAutoSlide(),startAutoSlide()})}),startAutoSlide()},masonryBtn=(startSlider(),window.addEventListener("scroll",function(){var e=document.querySelector("#cardLeft"),t=document.querySelector("#cardCenter"),n=document.querySelector("#cardRight"),o=document.querySelector("#cardText"),r=e.getBoundingClientRect().top,d=document.querySelector("#realisationsText"),a=document.querySelector("#realisationsImg"),i=d.getBoundingClientRect().top,l=document.querySelector(".first-item"),s=document.querySelectorAll(".item"),l=l.getBoundingClientRect().top,c=window.innerHeight;r<c&&(e.classList.add("animate-rollInLeft"),t.classList.add("animate-rollInTop"),n.classList.add("animate-rollInRight"),o.classList.add("animate-trackingInContract")),i<c&&(d.classList.add("animate-focusTextFwd"),a.classList.add("animate-titlInTop")),l<c&&s.forEach(function(e){return e.classList.add("animate-swingIn")})}),document.querySelector("#masonryBtn")),masonryGradient=document.querySelector("#masonryGradient"),hiddenImgs=document.querySelectorAll(".item"),masonryHandler=function(){hiddenImgs.forEach(function(e){return e.classList.remove("hidden")}),hiddenImgs.forEach(function(e){return e.classList.add("inline-block")}),masonryGradient.classList.add("animate-fadeOut"),masonryBtn.classList.add("hidden"),window.scrollBy(0,-2e3)},modal=(masonryBtn.addEventListener("click",masonryHandler),document.getElementById("modal")),modalImage=document.getElementById("modalImage"),closeModal=document.getElementById("closeModal"),images=document.querySelectorAll(".item");images.forEach(function(t){t.addEventListener("click",function(){var e=t.getAttribute("src");modalImage.setAttribute("src",e),modal.classList.remove("hidden")})}),closeModal.addEventListener("click",function(){modal.classList.add("hidden")}),modal.addEventListener("click",function(e){e.target===modal&&modal.classList.add("hidden")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW50ZXJ2YWwiLCJoYW1idXJnZXJCdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXZiYXJEcm9wZG93biIsIm5hdmJhckRyb3Bkb3duSGFuZGxlciIsInRvZ2dsZSIsImNsYXNzTGlzdCIsImNsb3NlTmF2YmFyRHJvcGRvd25IYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsImFkZCIsImxpbmtzIiwiZHJvcGRvd25OYXZiYXIiLCJmb3JFYWNoIiwibGluayIsImRyb3Bkb3duSGFuZGxlciIsImRyb3Bkb3duQnRuIiwic2VhcmNoQnV0dG9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJzZWFyY2hUZXJtIiwic2VhcmNoSW5wdXQiLCJzbGlkZXMiLCJpbm5lckhUTUwiLCJ2YWx1ZSIsInRyaW0iLCJjb25jYXQiLCJoaWdobGlnaHRlZEVsZW1lbnRzIiwibGVuZ3RoIiwiY29udGVudCIsImJsb2NrIiwicmVwbGFjZSIsInNlYXJjaFJlZ2V4IiwibWF0Y2giLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjdXJyZW50U2xpZGUiLCJkaXNwbGF5Iiwic2hvd1NsaWRlIiwiaW5kZXgiLCJzbGlkZSIsImlkeCIsIm5leHRTbGlkZSIsInN0eWxlIiwic2V0VGltZW91dCIsIm5leHRTbGlkZUluZGV4IiwicHJldlNsaWRlIiwic3RvcEF1dG9TbGlkZSIsInByZXZTbGlkZUluZGV4Iiwic2V0SW50ZXJ2YWwiLCJzdGFydFNsaWRlciIsIm5leHRCdXR0b25zIiwic3RhcnRBdXRvU2xpZGUiLCJwcmV2QnV0dG9ucyIsInByZXZCdXR0b24iLCJjbGVhckludGVydmFsIiwibmV4dEJ1dHRvbiIsImNhcmRMZWZ0IiwiY2FyZENlbnRlciIsImNhcmRSaWdodCIsImNhcmRUZXh0IiwiY2FyZHNQb3NpdGlvbiIsInJlYWxpc2F0aW9uc1RleHRQb3NpdGlvbiIsInJlYWxpc2F0aW9uc1RleHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJtYXNvbnJ5Rmlyc3RJdGVtIiwibWFzb25yeUl0ZW1zIiwibWFzb25yeUZpcnN0SXRlbVBvc2l0aW9uIiwid2luZG93SGVpZ2h0Iiwid2luZG93IiwibWFzb25yeUJ0biIsInRvcCIsIm1hc29ucnlHcmFkaWVudCIsImhpZGRlbkltZ3MiLCJpbm5lckhlaWdodCIsIm1vZGFsIiwibW9kYWxJbWFnZSIsImltYWdlIiwiaXRlbSIsImV2ZW50IiwibWFzb25yeUhhbmRsZXIiLCJpbWciLCJzY3JvbGxCeSIsImNsb3NlTW9kYWwiLCJpbWFnZXMiLCJzcmMiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJ0YXJnZXQiXSwibWFwcGluZ3MiOiJhQUNBLElBbUVRQSxTQW5FRkMsYUFBZUMsU0FBU0MsY0FBYyxlQUFlLEVBRDNEQyxlQUFBRixTQUFBQyxjQUFBLGlCQUFBLEVBRU1DLHNCQUEwQkQsV0FFMUJFLGFBQUFBLFVBQXFCQyxPQUFHLFdBQXhCRCxFQUNGSixlQUFhTSxVQUFVRCxPQUFPLFFBQVksRUFDMUNGLGVBQWVHLFVBQVVELE9BQU8sT0FBUyxDQUU3QyxFQVFNRSxPQU5OUCxhQUFhUSxpQkFBaUIsUUFBT0oscUJBQUNBLEVBTWhDRyxTQUFBQSxpQkFBNkIsV0FBN0JBLEdBRUZKLDJCQUE2QixXQUM3QkEsYUFBZUcsVUFBVUcsT0FBTyxXQUFRLEVBQzNDTixlQUFBRyxVQUFBSSxJQUFBLFFBQUEsRUFFREMsZUFBY0wsVUFBSUcsT0FBQSxPQUFBLENBRmxCLEVBTU1HLGFBSk5ELE1BQU1FLFFBQVEsU0FBQUMsR0FBSSxPQUFFQSxFQUFLTixpQkFBaUIsUUFBUUQsMEJBQTBCLENBQUMsQ0FBQSxFQUl6RE4sU0FBV0MsY0FBYyxjQUFDLEdBRXhDYSxlQUFrQmQsU0FBbEJjLGNBQWVBLGlCQUFTLEVBRTFCSCxnQkFBZU4sV0FDbEJNLGVBQUFOLFVBQUFELE9BQUEsUUFBQSxFQUVEVyxlQUFZUixVQUFpQkgsT0FBTyxPQUFFVSxDQUN0QyxFQU1BRSxjQUpBRCxZQUFNQyxpQkFBd0JDLFFBQUFBLGVBQWUsRUFJaENWLFNBQWlCVSxlQUFTLGNBQU0sR0FDckNDLFlBQWFDLFNBQUFBLGVBQXdCLGFBQUEsRUFDdkNELFFBQVVsQixTQUFTQyxjQUFBLE1BQUEsRUF1QmpCbUIsUUF6QlJKLGFBTVVLLGlCQUFvQkEsUUFBUyxXQUxyQyxJQUtnRUgsRUFBQUMsWUFBQUcsTUFBQUMsS0FBQUMsRUFBOEMsS0FBQU4sSUFHMUdPLEVBQUFBLElBQW9CQyxPQUFNLE1BQUFGLE9BQU1OLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFIcENTLFFBSzJDQyxVQUFjRCxRQUFBTixVQUFBUSxRQUFBQyxFQUFBLFNBQUFDLEdBQUEsTUFBQSwyQkFBQVAsT0FBQU8sRUFBQSxTQUFBLENBQUEsQ0FBQSxFQUN2RCxHQUQ4RU4sRUFBQUUsUUFBQUssdUJBQUEsV0FBQSxHQUM5RU4sU0FERUQsRUFBb0IsR0FBR1EsZUFBZSxDQUFDTCxNQUFNLFNBQVVNLFNBQVUsUUFBUyxDQUFDLENBUWpGLENBQUEsRUFNZWxDLFNBQVltQyxpQkFBQSxjQUFBLEdBTHZCQyxhQU1vQkMsRUFJaEJDLFVBQUEsU0FBQUMsR0FDRm5CLE9BQUFSLFFBQUEsU0FBQTRCLEVBQUFDLEdBR0FDLEVBQVlDLE1BQUFOLFFBRmpCSSxJQUFBRixFQUVjRyxPQUlxQixNQUdoQ0osQ0FBQUEsQ0FUSixFQWNJTSxVQUFXLFdBQ1B4QixJQUFNeUIsR0FBaUJ4QyxhQUFnQixHQUFDZSxPQUFBTSxPQUUvQ04sT0FBQWdCLGNBQUEvQixVQUFBRyxPQUFBLG1CQUFBLEVBRUtzQyxPQUFBQSxHQUFBQSxVQUFrQnJDLElBQUEsZUFBQSxFQUlwQlcsVUFEQUEsYUFBT2dCLENBQ2dCL0IsRUFHdkJpQyxjQUFVRixFQUVWVyxlQUFlLEVBR2ZILFdBQVcsV0FDUHhCLE9BQU80QixHQUFnQjNDLFVBQVVHLE9BQU8sZUFBbUIsQ0FDOUQsRUFBRSxHQUFLLENBQ1osRUFHSVYsVUFBV21ELFdBQ1BQLElBQUFBLEdBQVdOLGFBQUEsRUFBQWhCLE9BQUFNLFFBQUFOLE9BQUFNLE9BRWxCTixPQUFBZ0IsY0FBQS9CLFVBQUFHLE9BQUEsZUFBQSxFQUVLdUMsT0FBQUEsR0FBZ0IxQyxVQUFoQjBDLElBQUFBLG1CQUFxQixFQUlyQkcsVUFGTGQsYUFBQVksQ0FFbUIsRUFHaEJELGNBQWlCLEVBQ2pCSSxlQUFZdkMsRUFuQlpnQyxXQXFCaUIsV0FDVEcsT0FBQUEsR0FBZTFDLFVBQUFHLE9BQUEsbUJBQUEsQ0FwQnZCLEVBcUJRNEMsR0FBQUEsQ0FwQlosRUF3QlVDLGVBQWNyRCxXQUNwQnFELFNBQVl6QyxZQUFRLFdBQ2hCMEMsVUFBVy9DLENBckJmLEVBc0JRdUMsR0FBQUEsQ0FyQlosRUF3QlVDLGNBQUEsV0FDSlEsY0FBQXpELFFBQUEsQ0FyQk4sRUEwQkFvRCxZQUFhLFdBdkJUWixVQUFVRixZQUFZLEVBRUZwQyxTQUFTbUMsaUJBQWlCLGFBQWEsRUF5QnhENUIsUUFBaUIsU0FBQWlELEdBQ2RDLEVBQVd6RCxpQkFBU0MsUUFBYyxXQUNsQ3lELFVBQWExRCxFQUNiMkQsY0FBb0IsRUFDcEJDLGVBQW9CM0QsQ0FDcEI0RCxDQUFBQSxDQUVOLENBQUEsRUFFTUMsU0FBMkJDLGlCQUFpQkMsYUFBQUEsRUFFNUNDLFFBQWdCLFNBQUFYLEdBQ2hCWSxFQUFZM0QsaUJBQVk0QixRQUFBQSxXQUN4QmdDLFVBQUFBLEVBRUFDLGNBQWVDLEVBRWpCUixlQUFnQk8sQ0FDbEJYLENBQUFBLENBQ0FDLENBQUFBLEVBRUFFLGVBQVN2RCxDQTNCZixFQTBFRWlFLFlBeEVGcEIsWUE0QkthLEVBeEJMTSxPQTZCSUgsaUJBQW9CLFNBQUMsV0E1QnJCLElBNEJ5QlQsRUFBT3BELFNBQVVJLGNBQUksV0FBa0IsRUFBQ2lELEVBQUExRCxTQUFBQyxjQUFBLGFBQUEsRUFFakUwRCxFQUFBM0QsU0FBQUMsY0FBQSxZQUFBLEVBQ0EyRCxFQUFBNUQsU0FBQUMsY0FBQSxXQUFBLEVBM0JNNEQsRUFBZ0JKLEVBQVNPLHNCQUFzQixFQUFFTyxJQWdDckRELEVBQXNCckUsU0FBQUEsY0FBYyxtQkFBYyxFQUNsRHVFLEVBQWtCeEUsU0FBU0MsY0FBYyxrQkFBbUIsRUFDNUR3RSxFQUFzQnRDLEVBQXlCNkIsc0JBQUEsRUFBQU8sSUFHckRFLEVBQW1CekUsU0FBR0MsY0FBQSxhQUFBLEVBQUFpRSxFQUFnQjFELFNBQU8yQixpQkFBUyxPQUFBLEVBQUNnQyxFQUFBRixFQUFBRCxzQkFBQSxFQUFBTyxJQUNqQ0gsRUFBZ0IzRCxPQUFJaUUsWUFDMUNGLEVBQWdCbkUsSUFDaEJpRSxFQUFXakUsVUFBVUksSUFBSSxvQkFBUyxFQUNsQzRELEVBQWVoRSxVQUFVSSxJQUFBLG1CQUFBLEVBQ3hCa0QsRUFBQXRELFVBQUFJLElBQUEscUJBQUEsRUFFRDZELEVBQVcvRCxVQUFBQSxJQUFpQiw0QkFBdUIsR0FHbkR1RCxFQUFBTSxJQUNNTyxFQUFpQjFELFVBQUFBLElBQWUsc0JBQVEsRUFDeEMyRCxFQUFhNUUsVUFBU2lCLElBQUFBLG1CQUE0QixHQUlqREwsRUFBaUJ3RCxHQUNwQlMsRUFBTXRFLFFBQWlCLFNBQUF1RSxHQUFBLE9BQUFBLEVBQVN6RSxVQUFNSSxJQUFBLGlCQUFBLENBQUEsQ0FBQSxDQTNCeEMsQ0FBQyxFQW9DRFQsU0FBQUMsY0FBQSxhQUFBLEdBRUlNLGdCQUFpQlAsU0FBU0MsY0FBTSxrQkFBSyxFQUNuQzhFLFdBQVkvRSxTQUFVbUMsaUJBQUUsT0FBQSxFQUU1QjZDLGVBQUEsV0FDSlAsV0FBRTdELFFBQUEsU0FBQXFFLEdBQUEsT0FBQUEsRUFBQTVFLFVBQUFHLE9BQUEsUUFBQSxDQUFBLENBQUEsRUEvQkZpRSxXQUFXN0QsUUFBUSxTQUFBcUUsR0FBRyxPQUFFQSxFQUFJNUUsVUFBVUksSUFBSSxjQUFjLENBQUMsQ0FBQSxFQUN6RCtELGdCQUFnQm5FLFVBQVVJLElBQUksaUJBQWlCLEVBQy9DNkQsV0FBV2pFLFVBQVVJLElBQUksUUFBUSxFQUNqQzRELE9BQU9hLFNBQVMsRUFBRyxDQUFDLEdBQUksQ0FDeEIsRUFNTVAsT0FKTkwsV0FBVy9ELGlCQUFpQixRQUFReUUsY0FBYyxFQUlwQ2hGLFNBQVNpQixlQUFlLE9BQU8sR0FDdkMyRCxXQUFhNUUsU0FBU2lCLGVBQWUsWUFBWSxFQUNqRGtFLFdBQWFuRixTQUFTaUIsZUFBZSxZQUFZLEVBRWpEbUUsT0FBU3BGLFNBQVNtQyxpQkFBaUIsT0FBTyxFQUNoRGlELE9BQU94RSxRQUFRLFNBQUFpRSxHQUNYQSxFQUFNdEUsaUJBQWlCLFFBQVMsV0FDNUIsSUFBTThFLEVBQU1SLEVBQU1TLGFBQWEsS0FBSyxFQUNwQ1YsV0FBV1csYUFBYSxNQUFPRixDQUFHLEVBQ2xDVixNQUFNdEUsVUFBVUcsT0FBTyxRQUFRLENBQ25DLENBQUMsQ0FDTCxDQUFDLEVBRUQyRSxXQUFXNUUsaUJBQWlCLFFBQVMsV0FDakNvRSxNQUFNdEUsVUFBVUksSUFBSSxRQUFRLENBQ2hDLENBQUMsRUFFRGtFLE1BQU1wRSxpQkFBaUIsUUFBUyxTQUFDd0UsR0FDekJBLEVBQU1TLFNBQVdiLE9BQ2pCQSxNQUFNdEUsVUFBVUksSUFBSSxRQUFRLENBRXBDLENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL21vYmlsZSBtZW51XHJcbmNvbnN0IGhhbWJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoYW1idXJnZXJCdG4nKVxyXG5jb25zdCBuYXZiYXJEcm9wZG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYXZiYXJEcm9wZG93bicpXHJcblxyXG5jb25zdCBuYXZiYXJEcm9wZG93bkhhbmRsZXIgPSAoKSA9PntcclxuICAgIGhhbWJ1cmdlckJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKVxyXG4gICAgbmF2YmFyRHJvcGRvd24uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJylcclxuICAgIG5hdmJhckRyb3Bkb3duLmNsYXNzTGlzdC50b2dnbGUoJ2Jsb2NrJylcclxufVxyXG5cclxuaGFtYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxuYXZiYXJEcm9wZG93bkhhbmRsZXIpXHJcblxyXG5cclxuLy9jbG9zZSBuYXYgd2hlbiBjbGljayBpdGVtXHJcbmNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdi1pdGVtJylcclxuXHJcbmNvbnN0IGNsb3NlTmF2YmFyRHJvcGRvd25IYW5kbGVyID0gKCkgPT57XHJcbiAgICBoYW1idXJnZXJCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJylcclxuICAgIG5hdmJhckRyb3Bkb3duLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbiAgICBuYXZiYXJEcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKCdibG9jaycpXHJcbn1cclxuXHJcbmxpbmtzLmZvckVhY2gobGluaz0+bGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsY2xvc2VOYXZiYXJEcm9wZG93bkhhbmRsZXIpKVxyXG5cclxuLy9kcm9wZG93blxyXG5jb25zdCBkcm9wZG93bkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkcm9wZG93bkJ0bicpXHJcbmNvbnN0IGRyb3Bkb3duTmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Ryb3Bkb3duTmF2YmFyJylcclxuXHJcbmNvbnN0IGRyb3Bkb3duSGFuZGxlciA9ICgpID0+IHtcclxuICAgIGRyb3Bkb3duTmF2YmFyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xyXG4gICAgZHJvcGRvd25OYXZiYXIuY2xhc3NMaXN0LnRvZ2dsZSgnYmxvY2snKTtcclxufVxyXG5cclxuZHJvcGRvd25CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkcm9wZG93bkhhbmRsZXIpO1xyXG4vL3NlYXJjaGJhclxyXG5cclxuY29uc3Qgc2VhcmNoQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaEJ1dHRvbicpO1xyXG5jb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hJbnB1dCcpO1xyXG5jb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5cclxuc2VhcmNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGNvbnN0IHNlYXJjaFRlcm0gPSBzZWFyY2hJbnB1dC52YWx1ZS50cmltKCk7XHJcbiAgaWYgKHNlYXJjaFRlcm0gPT09ICcnKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IHNlYXJjaFJlZ2V4ID0gbmV3IFJlZ0V4cChgXFxcXGIke3NlYXJjaFRlcm19XFxcXGJgLCAnZ2knKTtcclxuXHJcbiAgY29udGVudC5pbm5lckhUTUwgPSBjb250ZW50LmlubmVySFRNTC5yZXBsYWNlKHNlYXJjaFJlZ2V4LCBtYXRjaCA9PiBgPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRcIj4ke21hdGNofTwvc3Bhbj5gKTtcclxuXHJcbiAgY29uc3QgaGlnaGxpZ2h0ZWRFbGVtZW50cyA9IGNvbnRlbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0Jyk7XHJcbiAgaWYgKGhpZ2hsaWdodGVkRWxlbWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgXHJcbiAgICAgIGhpZ2hsaWdodGVkRWxlbWVudHNbMF0uc2Nyb2xsSW50b1ZpZXcoe2Jsb2NrOidjZW50ZXInLCBiZWhhdmlvcjogJ3Ntb290aCcgfSlcclxuICAgIH1cclxuICAgIFxyXG59KTtcclxuXHJcbi8vc2xpZGVyXHJcblxyXG5cclxuY29uc3Qgc2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlclNsaWRlJyk7XHJcbmxldCBjdXJyZW50U2xpZGUgPSAwO1xyXG5sZXQgaW50ZXJ2YWw7XHJcblxyXG5jb25zdCBzaG93U2xpZGU9KGluZGV4KSA9PiB7XHJcbiAgICBzbGlkZXMuZm9yRWFjaCgoc2xpZGUsIGlkeCkgPT4ge1xyXG4gICAgICAgIGlmIChpZHggPT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgIHNsaWRlLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNsaWRlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IG5leHRTbGlkZSA9ICgpID0+e1xyXG4gICAgY29uc3QgbmV4dFNsaWRlSW5kZXggPSAoY3VycmVudFNsaWRlICsgMSkgJSBzbGlkZXMubGVuZ3RoO1xyXG5cclxuICAgIHNsaWRlc1tjdXJyZW50U2xpZGVdLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtcHJldlNsaWRlJyk7XHJcbiAgICBzbGlkZXNbbmV4dFNsaWRlSW5kZXhdLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtc2xpZGUnKTtcclxuXHJcbiAgICBjdXJyZW50U2xpZGUgPSBuZXh0U2xpZGVJbmRleDtcclxuICAgIHNob3dTbGlkZShjdXJyZW50U2xpZGUpO1xyXG5cclxuICAgIHN0b3BBdXRvU2xpZGUoKTtcclxuICAgIHN0YXJ0QXV0b1NsaWRlKCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgc2xpZGVzW25leHRTbGlkZUluZGV4XS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlLXNsaWRlJyk7XHJcbiAgICB9LCAxMDAwKTsgXHJcbn1cclxuXHJcbmNvbnN0IHByZXZTbGlkZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHByZXZTbGlkZUluZGV4ID0gKGN1cnJlbnRTbGlkZSAtIDEgKyBzbGlkZXMubGVuZ3RoKSAlIHNsaWRlcy5sZW5ndGg7XHJcblxyXG4gICAgc2xpZGVzW2N1cnJlbnRTbGlkZV0uY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZS1zbGlkZScpO1xyXG4gICAgc2xpZGVzW3ByZXZTbGlkZUluZGV4XS5jbGFzc0xpc3QuYWRkKCdhbmltYXRlLXByZXZTbGlkZScpO1xyXG5cclxuICAgIGN1cnJlbnRTbGlkZSA9IHByZXZTbGlkZUluZGV4O1xyXG4gICAgc2hvd1NsaWRlKGN1cnJlbnRTbGlkZSk7XHJcblxyXG4gICAgc3RvcEF1dG9TbGlkZSgpO1xyXG4gICAgc3RhcnRBdXRvU2xpZGUoKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBzbGlkZXNbcHJldlNsaWRlSW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtcHJldlNsaWRlJyk7XHJcbiAgICB9LCAxMDAwKTsgXHJcbn1cclxuXHJcbmNvbnN0IHN0YXJ0QXV0b1NsaWRlID0oKT0+IHtcclxuICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgIG5leHRTbGlkZSgpO1xyXG4gICAgfSwgNTAwMCk7XHJcbn1cclxuXHJcbmNvbnN0IHN0b3BBdXRvU2xpZGUgPSAoKT0+IHtcclxuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG59XHJcblxyXG5jb25zdCBzdGFydFNsaWRlciA9ICgpPT4ge1xyXG4gICAgc2hvd1NsaWRlKGN1cnJlbnRTbGlkZSk7XHJcblxyXG4gICAgY29uc3QgbmV4dEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV4dEJ1dHRvbicpO1xyXG4gICAgbmV4dEJ1dHRvbnMuZm9yRWFjaChuZXh0QnV0dG9uID0+IHtcclxuICAgICAgICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBuZXh0U2xpZGUoKTtcclxuICAgICAgICAgICAgc3RvcEF1dG9TbGlkZSgpO1xyXG4gICAgICAgICAgICBzdGFydEF1dG9TbGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcHJldkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJldkJ1dHRvbicpO1xyXG4gICAgcHJldkJ1dHRvbnMuZm9yRWFjaChwcmV2QnV0dG9uID0+IHtcclxuICAgICAgICBwcmV2QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBwcmV2U2xpZGUoKTtcclxuICAgICAgICAgICAgc3RvcEF1dG9TbGlkZSgpO1xyXG4gICAgICAgICAgICBzdGFydEF1dG9TbGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc3RhcnRBdXRvU2xpZGUoKTtcclxufVxyXG5cclxuc3RhcnRTbGlkZXIoKTtcclxuXHJcbi8vYW5pbWF0aW9uXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZExlZnRcIik7XHJcbiAgICBjb25zdCBjYXJkQ2VudGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkQ2VudGVyXCIpO1xyXG4gICAgY29uc3QgY2FyZFJpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkUmlnaHRcIik7XHJcbiAgICBjb25zdCBjYXJkVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZFRleHRcIik7XHJcbiAgICBjb25zdCBjYXJkc1Bvc2l0aW9uID0gY2FyZExlZnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgXHJcbiAgICBjb25zdCByZWFsaXNhdGlvbnNUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlYWxpc2F0aW9uc1RleHQnKVxyXG4gICAgY29uc3QgcmVhbGlzYXRpb25zSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlYWxpc2F0aW9uc0ltZycpXHJcbiAgICBjb25zdCByZWFsaXNhdGlvbnNUZXh0UG9zaXRpb24gPSByZWFsaXNhdGlvbnNUZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuXHJcbiAgICBjb25zdCBtYXNvbnJ5Rmlyc3RJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZpcnN0LWl0ZW0nKVxyXG4gICAgY29uc3QgbWFzb25yeUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLml0ZW0nKVxyXG4gICAgY29uc3QgbWFzb25yeUZpcnN0SXRlbVBvc2l0aW9uID0gbWFzb25yeUZpcnN0SXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcblxyXG4gICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cclxuICAgIGlmIChjYXJkc1Bvc2l0aW9uIDwgd2luZG93SGVpZ2h0KSB7XHJcbiAgICAgIGNhcmRMZWZ0LmNsYXNzTGlzdC5hZGQoXCJhbmltYXRlLXJvbGxJbkxlZnRcIik7XHJcbiAgICAgIGNhcmRDZW50ZXIuY2xhc3NMaXN0LmFkZChcImFuaW1hdGUtcm9sbEluVG9wXCIpO1xyXG4gICAgICBjYXJkUmlnaHQuY2xhc3NMaXN0LmFkZChcImFuaW1hdGUtcm9sbEluUmlnaHRcIik7XHJcbiAgICAgIGNhcmRUZXh0LmNsYXNzTGlzdC5hZGQoXCJhbmltYXRlLXRyYWNraW5nSW5Db250cmFjdFwiKTtcclxuICAgIH1cclxuICAgIGlmIChyZWFsaXNhdGlvbnNUZXh0UG9zaXRpb24gPCB3aW5kb3dIZWlnaHQpIHtcclxuICAgICByZWFsaXNhdGlvbnNUZXh0LmNsYXNzTGlzdC5hZGQoXCJhbmltYXRlLWZvY3VzVGV4dEZ3ZFwiKTtcclxuICAgICByZWFsaXNhdGlvbnNJbWcuY2xhc3NMaXN0LmFkZChcImFuaW1hdGUtdGl0bEluVG9wXCIpO1xyXG4gICAgXHJcbiAgICB9XHJcbiAgICBpZiAobWFzb25yeUZpcnN0SXRlbVBvc2l0aW9uIDwgd2luZG93SGVpZ2h0KSB7XHJcbiAgICBtYXNvbnJ5SXRlbXMuZm9yRWFjaChpdGVtPT5pdGVtLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtc3dpbmdJbicpKVxyXG4gICAgXHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuXHJcbi8vbWFzb25yeVxyXG5jb25zdCBtYXNvbnJ5QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21hc29ucnlCdG4nKVxyXG5jb25zdCBtYXNvbnJ5R3JhZGllbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFzb25yeUdyYWRpZW50JylcclxuY29uc3QgaGlkZGVuSW1ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pdGVtJylcclxuXHJcbmNvbnN0IG1hc29ucnlIYW5kbGVyID0gKCkgPT57XHJcbmhpZGRlbkltZ3MuZm9yRWFjaChpbWc9PmltZy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKSlcclxuaGlkZGVuSW1ncy5mb3JFYWNoKGltZz0+aW1nLmNsYXNzTGlzdC5hZGQoJ2lubGluZS1ibG9jaycpKVxyXG5tYXNvbnJ5R3JhZGllbnQuY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZS1mYWRlT3V0JylcclxubWFzb25yeUJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG53aW5kb3cuc2Nyb2xsQnkoMCwgLTIwMDApOyBcclxufVxyXG5cclxubWFzb25yeUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsbWFzb25yeUhhbmRsZXIpXHJcblxyXG5cclxuLy9tb2RhbCBnYWxsZXJ5XHJcbmNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsJyk7XHJcbmNvbnN0IG1vZGFsSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxJbWFnZScpO1xyXG5jb25zdCBjbG9zZU1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlTW9kYWwnKTtcclxuXHJcbmNvbnN0IGltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pdGVtJyk7XHJcbmltYWdlcy5mb3JFYWNoKGltYWdlID0+IHtcclxuICAgIGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNyYyA9IGltYWdlLmdldEF0dHJpYnV0ZSgnc3JjJyk7XHJcbiAgICAgICAgbW9kYWxJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XHJcbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5jbG9zZU1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbn0pO1xyXG5cclxubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC50YXJnZXQgPT09IG1vZGFsKSB7XHJcbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICB9XHJcbn0pO1xyXG4iXX0=
